{{- $providerConfigName := tpl .Values.providerConfig.name $ | required ".Values.providerConfig.name is required" }}
{{- $realmName := tpl .Values.realm.name $ | required ".Values.realm.name is required" }}
{{- $realmNamespace := .Release.Namespace }}
---
apiVersion: realm.keycloak.m.crossplane.io/v1alpha1
kind: Realm
metadata:
  name: "{{ $realmName }}--realm"
  namespace: "{{ $realmNamespace }}"
spec:
  providerConfigRef:
    name: "{{ $providerConfigName }}"
    kind: ProviderConfig
  forProvider:
    realm: "{{ $realmName }}"
    {{- tpl (.Values.realm.forProvider | toYaml) $ | nindent 4 }}
